(this.webpackJsonpavaperps=this.webpackJsonpavaperps||[]).push([[0],{1014:function(e,t){},1016:function(e,t){},1032:function(e,t){},1050:function(e,t){},1052:function(e,t){},1070:function(e,t){},1071:function(e,t){},1139:function(e,t){},1145:function(e,t){},1146:function(e,t){},1472:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(162),c=n.n(i),s=n(10),o=n(19),u=n(3),l=n.n(u),p=n(1546),d=n(1533),b=(n(50),n(63)),j=n(102),x=n.n(j),m=n(62),h=n(5),y=n(1552),O=n(1543),f=(n(1431),n(640)),v=n(641),_=n.n(v),g=n(107),w=n(1547),T=n(1536),k=n(1553),C=n(1484),M=n(1534),S=n(1541),F=n(1);Object(h.a)(y.a)((function(e){var t=e.theme;return Object(m.a)(Object(m.a)({},t.typography.body2),{},{padding:t.spacing(1),color:t.palette.text.primary})}));function P(e){var t=e.state,n=e.contract_avaperps,a=e.amount,r=Object(b.b)().user,i=t.perp,c=t.amm_base,o=t.amm_quote,u=(t.user_base,t.user_quote),p=(t.user_collateral,t.avax_price,t.perp_name),d=t.peg_multiplier,j=o*c,x=!r||a<=0||a*d>u;return Object(F.jsxs)(O.a,{container:!0,spacing:2,children:[Object(F.jsx)(O.a,{item:!0,xs:6,children:Object(F.jsxs)(S.a,{variant:"contained",style:{width:"100%"},disabled:x,onClick:Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.get("ethAddress"),e.next=3,n.methods.open_short(i,a*d).send({from:t});case 3:case"end":return e.stop()}}),e)}))),children:["Open Short: ",function(){var e=Number(o)-a*d,t=c-j/e;return Math.abs(t/d).toFixed(2)}()," ",p,"-PERP"]})}),Object(F.jsx)(O.a,{item:!0,xs:6,children:Object(F.jsxs)(S.a,{variant:"contained",style:{width:"100%"},disabled:x,onClick:Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.get("ethAddress"),e.next=3,n.methods.close_short(i,a*d).send({from:t});case 3:case"end":return e.stop()}}),e)}))),children:["Close Short: ",function(){var e=Number(o)+a*d,t=c-j/e;return Math.abs(t/d).toFixed(2)}()," ",p,"-PERP"]})})]})}Object(h.a)(y.a)((function(e){var t=e.theme;return Object(m.a)(Object(m.a)({},t.typography.body2),{},{padding:t.spacing(1),color:t.palette.text.primary})}));function A(e){var t=e.state,n=e.contract_avaperps,a=e.amount,r=Object(b.b)().user,i=t.amm_base,c=t.amm_quote,o=(t.user_base,t.user_quote),u=(t.user_collateral,t.avax_price,t.perp_name),p=t.peg_multiplier,d=t.perp,j=c*i,x=!r||a<=0||a*p>o;return Object(F.jsxs)(O.a,{container:!0,spacing:2,children:[Object(F.jsx)(O.a,{item:!0,xs:6,children:Object(F.jsxs)(S.a,{variant:"contained",style:{width:"100%"},disabled:x,onClick:Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.get("ethAddress"),e.next=3,n.methods.open_long(d,a*p).send({from:t});case 3:case"end":return e.stop()}}),e)}))),children:["Open Long: ",function(){var e=Number(c)+a*p,t=i-j/e;return Math.abs(t/p).toFixed(2)}()," ",u,"-PERP"]})}),Object(F.jsx)(O.a,{item:!0,xs:6,children:Object(F.jsxs)(S.a,{variant:"contained",style:{width:"100%"},disabled:x,onClick:Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.get("ethAddress"),e.next=3,n.methods.close_long(d,a*p).send({from:t});case 3:case"end":return e.stop()}}),e)}))),children:["Close Long: ",function(){var e=Number(c)-a*p,t=i-j/e;return Math.abs(t/p).toFixed(2)}()," ",u,"-PERP"]})})]})}var D=Object(h.a)(y.a)((function(e){var t=e.theme;return Object(m.a)(Object(m.a)({},t.typography.body2),{},{padding:t.spacing(1),color:t.palette.text.primary})}));function W(e){var t=e.state,n=e.contract_avaperps,r=e.value,i=e.children,c=a.useState(0),s=Object(o.a)(c,2),u=s[0],l=s[1],d=(Object(b.b)().user,t.amm_base),j=t.amm_quote,x=(t.user_base,t.user_quote),m=(t.user_collateral,t.avax_price,t.peg_multiplier),h=j/d,y=r?Object(F.jsx)(P,{amount:u,contract_avaperps:n,state:t}):Object(F.jsx)(A,{amount:u,contract_avaperps:n,state:t});return Object(F.jsxs)(O.a,{container:!0,spacing:2,children:[Object(F.jsx)(O.a,{item:!0,xs:6,children:Object(F.jsx)(M.a,{type:"number",variant:"standard",inputProps:{style:{fontSize:30}},value:u,onChange:function(e){return l(e.target.value)}})}),Object(F.jsxs)(O.a,{item:!0,xs:6,children:[Object(F.jsx)(D,{children:"USDC"}),Object(F.jsxs)(C.a,{variant:"body2",children:["Borrowing Power: ",(x/m).toFixed(2)]})]}),Object(F.jsx)(O.a,{item:!0,xs:6,children:Object(F.jsxs)(C.a,{variant:"h4",children:[(u/h).toFixed(2)," (EST.)"]})}),Object(F.jsxs)(O.a,{item:!0,xs:6,children:[Object(F.jsx)(D,{children:i}),Object(F.jsxs)(C.a,{variant:"body2",children:["Max Size: ",(x/h/m).toFixed(2)]})]}),Object(F.jsx)(p.a,{mt:2,children:y})]})}var U=["children","value","index"];function q(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}function B(e){var t=e.state,n=e.contract_avaperps,r=e.children,i=Object(g.a)(),c=a.useState(0),s=Object(o.a)(c,2),u=s[0],l=s[1];function d(e){var t=e.children,n=e.value,a=e.index,r=Object(f.a)(e,U);return Object(F.jsx)("div",Object(m.a)(Object(m.a)({role:"tabpanel",hidden:n!==a,id:"full-width-tabpanel-".concat(a),"aria-labelledby":"full-width-tab-".concat(a)},r),{},{children:n===a&&Object(F.jsx)(p.a,{sx:{p:3},children:Object(F.jsx)(C.a,{children:t})})}))}return Object(F.jsxs)(p.a,{sx:{bgcolor:"background.paper",width:500},children:[Object(F.jsx)(w.a,{position:"static",children:Object(F.jsxs)(T.a,{value:u,onChange:function(e,t){console.log(t),l(t)},textColor:"inherit",variant:"fullWidth","aria-label":"full width tabs example",children:[Object(F.jsx)(k.a,Object(m.a)({label:"Long"},q(0))),Object(F.jsx)(k.a,Object(m.a)({label:"Short"},q(1)))]})}),Object(F.jsxs)(_.a,{axis:"rtl"===i.direction?"x-reverse":"x",index:u,onChangeIndex:function(e){console.log(e),l(e)},children:[Object(F.jsx)(d,{value:u,index:0,dir:i.direction,children:Object(F.jsx)(W,{contract_avaperps:n,state:t,value:u,children:r})}),Object(F.jsx)(d,{value:u,index:1,dir:i.direction,children:Object(F.jsx)(W,{contract_avaperps:n,state:t,value:u,children:r})})]})]})}var E=n(1530),I=n(14),N=n(15),R=n(30),L=n(31),V=function(e){Object(R.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(I.a)(this,n),(a=t.call(this,e)).state={time:Date.now()},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval((function(){return e.setState({time:Date.now()})}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=3600-Math.floor(this.state.time/1e3)%3600,t=e%60,n=Math.floor(e/60);return Object(F.jsxs)("span",{children:[" ",n,":",("00"+t).slice(-2)," "]})}}]),n}(a.Component),z=Object(h.a)(y.a)((function(e){var t=e.theme;return Object(m.a)(Object(m.a)({},t.typography.body1),{},{padding:t.spacing(1),textAlign:"center"})}));function J(e){var t=e.xs,n=void 0===t?2:t,a=e.children;return Object(F.jsx)(O.a,{item:!0,xs:n,children:Object(F.jsx)(z,{children:a})})}function G(e){var t=e.state,n=t.amm_base,a=t.amm_quote,r=t.user_base,i=t.user_quote,c=(t.user_collateral,t.oracle_price),s=t.tvl,o=t.perp_name,u=t.peg_multiplier,l=a/n,d=(((l*Math.abs(r)+Number(i))/5/u).toFixed(2),(l*u-c)/c/24),b=Math.pow(1+d,8760)-1,j="\n        ".concat((Math.abs(r)/u).toFixed(2),"\n        ").concat(r<0?"SHORT":"LONG","\n        ").concat(o,"-PERP\n    ");return Object(F.jsx)(p.a,{m:2,children:Object(F.jsxs)(O.a,{container:!0,spacing:2,children:[Object(F.jsxs)(O.a,{container:!0,item:!0,spacing:2,columns:11,children:[Object(F.jsx)(J,{xs:3,children:Object(F.jsx)(C.a,{variant:"h4",children:"Your Data"})}),Object(F.jsxs)(J,{children:[j,Object(F.jsx)(E.a,{sx:{borderBottomWidth:2}}),Object(F.jsx)(C.a,{variant:"subtitle2",children:"Position"})]}),Object(F.jsxs)(J,{children:[(Math.abs(r)*l/u).toFixed(2)," USDC",Object(F.jsx)(E.a,{sx:{borderBottomWidth:2}}),Object(F.jsx)(C.a,{variant:"subtitle2",children:"Position Notional Value"})]}),Object(F.jsxs)(J,{children:[(i/u/5).toFixed(2)," USDC",Object(F.jsx)(E.a,{sx:{borderBottomWidth:2}}),Object(F.jsx)(C.a,{variant:"subtitle2",children:"Liquid Capital"})]}),Object(F.jsxs)(J,{children:["0 USDC",Object(F.jsx)(E.a,{sx:{borderBottomWidth:2}}),Object(F.jsx)(C.a,{variant:"subtitle2",children:"Liquidation Price"})]})]}),Object(F.jsxs)(O.a,{container:!0,item:!0,spacing:2,columns:11,children:[Object(F.jsx)(J,{xs:3,children:Object(F.jsx)(C.a,{variant:"h4",children:"Market Data"})}),Object(F.jsxs)(J,{children:[l.toFixed(2)," USDC",Object(F.jsx)(E.a,{sx:{borderBottomWidth:2}}),Object(F.jsxs)(C.a,{variant:"subtitle2",children:[o,"-PERP Price"]})]}),Object(F.jsxs)(J,{children:[(c/u).toFixed(2)," USDC",Object(F.jsx)(E.a,{sx:{borderBottomWidth:2}}),Object(F.jsxs)(C.a,{variant:"subtitle2",children:[o," Price"]})]}),Object(F.jsxs)(J,{children:[(100*d).toFixed(2),"% in ",Object(F.jsx)(V,{}),Object(F.jsx)(E.a,{sx:{borderBottomWidth:2}}),Object(F.jsx)(C.a,{variant:"subtitle2",children:"Predicted Funding Rate"})]}),Object(F.jsxs)(J,{children:[b.toFixed(2),"% APY",Object(F.jsx)(E.a,{sx:{borderBottomWidth:2}}),Object(F.jsx)(C.a,{variant:"subtitle2",children:"24h Avg Funding"})]})]}),Object(F.jsxs)(O.a,{container:!0,item:!0,spacing:2,columns:11,children:[Object(F.jsx)(J,{xs:3,children:Object(F.jsx)(C.a,{variant:"h4",children:"vAMM Data"})}),Object(F.jsxs)(J,{children:[(s/u).toFixed(2)," USDC",Object(F.jsx)(E.a,{sx:{borderBottomWidth:2}}),Object(F.jsx)(C.a,{variant:"subtitle2",children:"TVL"})]}),Object(F.jsxs)(J,{children:[(n/u).toFixed(2)," ",o,"-PERP",Object(F.jsx)(E.a,{sx:{borderBottomWidth:2}}),Object(F.jsx)(C.a,{variant:"subtitle2",children:"Base Asset Amount"})]}),Object(F.jsxs)(J,{children:[(a/u).toFixed(2)," USDC",Object(F.jsx)(E.a,{sx:{borderBottomWidth:2}}),Object(F.jsx)(C.a,{variant:"subtitle2",children:"Quote Asset Amount"})]}),Object(F.jsxs)(J,{children:[(a*n/Math.pow(u,2)).toFixed(2),Object(F.jsx)(E.a,{sx:{borderBottomWidth:2}}),Object(F.jsx)(C.a,{variant:"subtitle2",children:"k"})]})]})]})})}var H=n(1544),Y=n(1554);function Q(e){var t=e.message,n=void 0!==t&&t,r=a.useState(!0),i=Object(o.a)(r,2),c=i[0],s=(i[1],n?Object(F.jsx)(C.a,{variant:"h4",children:n}):Object(F.jsx)(Y.a,{color:"inherit"}));return Object(F.jsx)("div",{children:Object(F.jsx)(H.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:c,children:s})})}var X=Object(h.a)(y.a)((function(e){var t=e.theme;return Object(m.a)(Object(m.a)({},t.typography.body2),{},{textAlign:"center",color:t.palette.text.secondary})})),K=Math.pow(10,8);function Z(e){var t=e.contract_avaperps,n=e.contract_erc20copy,r=e.net_id,i=e.address_avaperps,c=e.children,u=e.perp_name,d=e.perp,j=Object(b.b)().user,x=a.useState(),m=Object(o.a)(x,2),h=m[0],y=m[1];function f(){return v.apply(this,arguments)}function v(){return(v=Object(s.a)(l.a.mark((function e(){var a,r,c,s,p,b,x,m,h,O,f,v;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!1,j&&(console.log("user not logged in"),a=j.get("ethAddress")),null!=t){e.next=5;break}return console.log("contract not initialized"),e.abrupt("return");case 5:return r=[t.methods.amms(d).call(),a?t.methods.user_base(d).call({from:a}):"Not logged in",a?t.methods.user_quote().call({from:a}):"Not logged in",a?t.methods.user_collateral().call({from:a}):"Not logged in",t.methods.oracle_price(d).call(),n.methods.balanceOf(i).call()],e.next=8,Promise.all(r);case 8:c=e.sent,s=Object(o.a)(c,6),p=s[0],b=s[1],x=s[2],m=s[3],h=s[4],O=s[5],f=p.base_asset_amount,v=p.quote_asset_amount,y({amm_base:f,amm_quote:v,user_base:b,user_quote:x,user_collateral:m,oracle_price:h,tvl:O,perp_name:u,peg_multiplier:K,perp:d});case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return a.useEffect((function(){f()}),[j,d]),43113!==r?Object(F.jsx)(Q,{message:"Wrong network. Should be Avalanche Fuji Testnet (Network ID 43113)."}):h?Object(F.jsxs)(p.a,{p:3,children:[Object(F.jsx)(O.a,{container:!0,justifyContent:"center",children:Object(F.jsx)(X,{children:Object(F.jsx)(B,{state:h,contract_avaperps:t,children:c})})}),Object(F.jsx)("br",{}),Object(F.jsx)(O.a,{container:!0,justifyContent:"center",sx:{borderRadius:"16px"},children:Object(F.jsx)(X,{children:Object(F.jsx)(G,{state:h})})})]}):(f(),Object(F.jsx)(Q,{}))}n(1549),n(1551),n(1550),n(1538);function $(){}var ee=n(1548),te=n(1556),ne=n(1559),ae=n(1557),re=n(1558),ie=n(1531),ce=n(1545),se=n(1555),oe=n(1532),ue="0xF1c79edE62cD228aE637464810CCD12C30ad1A65",le=Math.pow(10,8);function pe(e){var t,n=e.contract_avaperps,r=e.contract_erc20copy,i=Object(b.b)().user,c=a.useState(!1),u=Object(o.a)(c,2),d=u[0],j=u[1],x=a.useState(),m=Object(o.a)(x,2),h=m[0],y=m[1],O=a.useState(0),f=Object(o.a)(O,2),v=f[0],_=f[1],g=function(){j(!1)};i&&(t=i.get("ethAddress"));var w=function(){var e=Object(s.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.methods.balanceOf(t).call();case 2:n=e.sent,console.log(n),_(n/le);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function T(){return(T=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.methods.approve(ue,h*le).send({from:t});case 2:return e.next=4,n.methods.deposit_collateral(h*le).send({from:t});case 4:g();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.methods.withdraw_collateral(h*le).send({from:t});case 2:g();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return a.useEffect((function(){w()}),[]),Object(F.jsxs)(p.a,{m:1,children:[Object(F.jsx)(S.a,{color:"inherit",onClick:function(){j(!0)},startIcon:Object(F.jsx)(ce.a,{src:"https://icons-for-free.com/iconfiles/png/512/cryptocurrency+icons+++color+usdc-1324449146826221536.png"}),disabled:!i,children:"Transfer"}),Object(F.jsxs)(te.a,{open:d,onClose:g,children:[Object(F.jsxs)(ie.a,{sx:{m:0,p:2},children:["Transfer",Object(F.jsx)(se.a,{"aria-label":"close",onClick:g,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:Object(F.jsx)(oe.a,{})})]}),Object(F.jsxs)(ae.a,{children:[Object(F.jsx)(re.a,{children:"Transfer USDC to and from this trading platform."}),Object(F.jsx)(M.a,{margin:"dense",label:"Amount (USDC)",fullWidth:!0,variant:"standard",type:"number",helperText:v.toFixed(2)+" USDC available",value:h,onChange:function(e){var t=e.target.value;t>0&&t<=v&&y(t)}})]}),Object(F.jsxs)(ne.a,{children:[Object(F.jsx)(S.a,{variant:"contained",onClick:function(){return T.apply(this,arguments)},children:"Deposit"}),Object(F.jsx)(S.a,{onClick:function(){return k.apply(this,arguments)},variant:"contained",color:"error",children:"Withdraw"})]})]})]})}var de=Math.pow(10,8);function be(e){e.contract_avaperps;var t,n=e.contract_erc20copy,r=Object(b.b)().user,i=a.useState(!1),c=Object(o.a)(i,2),u=c[0],d=c[1],j=a.useState(0),x=Object(o.a)(j,2),m=(x[0],x[1],function(){d(!1)});function h(){return(h=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.methods.mint(1e3*de).send({from:t});case 2:m();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r&&(t=r.get("ethAddress")),Object(F.jsxs)(p.a,{m:1,children:[Object(F.jsx)(S.a,{color:"inherit",onClick:function(){d(!0)},startIcon:Object(F.jsx)(ce.a,{src:"https://cdn-icons-png.flaticon.com/512/590/590415.png"}),disabled:!r,children:"Use Faucet"}),Object(F.jsxs)(te.a,{open:u,onClose:m,children:[Object(F.jsxs)(ie.a,{sx:{m:0,p:2},children:["Use Faucet",Object(F.jsx)(se.a,{"aria-label":"close",onClick:m,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:Object(F.jsx)(oe.a,{})})]}),Object(F.jsx)(ae.a,{children:Object(F.jsx)(re.a,{children:"USDC Faucet on Avalanche Fuji Testnet"})}),Object(F.jsx)(ne.a,{children:Object(F.jsx)(S.a,{variant:"contained",onClick:function(){return h.apply(this,arguments)},children:"Request 1000 USDC"})})]})]})}var je=function(e){e.setPage;var t=Object(b.b)(),n=t.authenticate,a=t.isAuthenticated,r=(t.user,t.logout);return a?Object(F.jsx)("div",{children:Object(F.jsx)(S.a,{onClick:Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:case"end":return e.stop()}}),e)}))),color:"inherit",startIcon:Object(F.jsx)(ce.a,{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/36/MetaMask_Fox.svg/800px-MetaMask_Fox.svg.png"}),children:"Logout"})}):Object(F.jsx)("div",{children:Object(F.jsx)(S.a,{onClick:Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({signingMessage:"Hello World!"});case 2:case"end":return e.stop()}}),e)}))),color:"inherit",startIcon:Object(F.jsx)(ce.a,{src:"https://moralis.io/wp-content/uploads/2021/06/cropped-Moralis-Favicon-Glass.png"}),children:"Login"})})},xe=n.p+"static/media/VistaRedLogo.e2ae08a8.png";function me(e){var t=e.contract_avaperps,n=e.contract_erc20copy;return Object(F.jsx)(w.a,{position:"fixed",style:{color:"fireBrick",background:"transparent"},children:Object(F.jsxs)(ee.a,{children:[Object(F.jsx)(p.a,{m:2,children:Object(F.jsx)("img",{src:xe,alt:"logo",height:"55px"})}),Object(F.jsx)(C.a,{variant:"h4",noWrap:!0,component:"div",sx:{flexGrow:1},children:"Vista Protocol"}),Object(F.jsx)(be,{contract_erc20copy:n,contract_avaperps:t}),Object(F.jsx)(pe,{contract_erc20copy:n,contract_avaperps:t}),Object(F.jsx)(je,{})]})})}var he=n(1540);function ye(e){var t=e.perp,n=e.set_perp,a=e.perps.map((function(e,t){return{label:e,value:t}}));return Object(F.jsx)(p.a,{component:"form",sx:{},noValidate:!0,autoComplete:"off",children:Object(F.jsx)(M.a,{id:"outlined-select-currency",select:!0,value:t,onChange:function(e){n(e.target.value)},variant:"standard",children:a.map((function(e){return Object(F.jsx)(he.a,{value:e.value,children:e.label},e.value)}))})})}var Oe=n(644),fe=n(645),ve="0x351Cee25E38FF6b8b9BF1044658e71847C518d1f";function _e(){Object(b.b)().user;var e=r.a.useState(),t=Object(o.a)(e,2),n=t[0],a=t[1],i=r.a.useState(),c=Object(o.a)(i,2),u=c[0],j=c[1],m=r.a.useState(),h=Object(o.a)(m,2),y=h[0],O=h[1],f=r.a.useState(0),v=Object(o.a)(f,2),_=v[0],g=v[1],w=r.a.useState("faucet"),T=Object(o.a)(w,2),k=(T[0],T[1]),C=function(){var e=Object(s.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==x.a.givenProvider){e.next=2;break}return e.abrupt("return");case 2:return t=new x.a(x.a.givenProvider),e.next=5,t.eth.net.getId();case 5:n=e.sent,O(n),n=new t.eth.Contract(Oe,ve),a(n),n=new t.eth.Contract(fe,"0x8dC460712519ab2Ed3028F0cff0D044c5EC0Df0C"),j(n);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r.a.useEffect((function(){C()}),[_]);var M="avax btc eth link".toUpperCase().split(" "),S=M[_],P={trade:Object(F.jsx)(Z,{contract_erc20copy:u,contract_avaperps:n,net_id:y,perp_name:S,perp:_,address_avaperps:ve,children:Object(F.jsx)(ye,{perp:_,perps:M,set_perp:g})}),faucet:Object(F.jsx)($,{contract_erc20copy:u})};return Object(F.jsxs)(p.a,{sx:{display:"flex"},style:{background:"linear-gradient(black, fireBrick)",height:"100vh"},children:[Object(F.jsx)(d.a,{}),Object(F.jsx)(me,{contract_erc20copy:u,contract_avaperps:n,pages:P,set_page:k}),Object(F.jsx)(p.a,{m:9,children:Object(F.jsx)(Z,{contract_erc20copy:u,contract_avaperps:n,net_id:y,perp_name:S,perp:_,address_avaperps:ve,children:Object(F.jsx)(ye,{perp:_,perps:M,set_perp:g})})})]})}var ge=n(1542),we=n(188),Te=n(646),ke=(Object(Te.a)({palette:{primary:{main:"#556cd6"},secondary:{main:"#19857b"},error:{main:we.a.A400}}}),Object(Te.a)({palette:{mode:"dark"}}));c.a.render(Object(F.jsx)(r.a.StrictMode,{children:Object(F.jsx)(b.a,{appId:"zWytrx6G5R9k0UdpqvrptVYFTcuLiX7XMHcue9QJ",serverUrl:"https://l0fckgbjlk4g.usemoralis.com:2053/server",children:Object(F.jsxs)(ge.a,{theme:ke,children:[Object(F.jsx)(d.a,{}),Object(F.jsx)(_e,{})]})})}),document.getElementById("root"))},644:function(e){e.exports=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"amms","outputs":[{"internalType":"address","name":"oracle","type":"address"},{"internalType":"uint256","name":"base_asset_amount","type":"uint256"},{"internalType":"uint256","name":"quote_asset_amount","type":"uint256"},{"internalType":"int256","name":"cum_funding_rate","type":"int256"},{"internalType":"int256","name":"funding_rate","type":"int256"},{"internalType":"int256","name":"periodicity","type":"int256"},{"internalType":"uint256","name":"mark_twap","type":"uint256"},{"internalType":"int256","name":"mark_twap_ts","type":"int256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"},{"internalType":"uint256","name":"amount_xusdc","type":"uint256"}],"name":"close_long","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"},{"internalType":"uint256","name":"amount_xusdc","type":"uint256"}],"name":"close_short","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount_usdc","type":"uint256"}],"name":"deposit_collateral","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"},{"internalType":"uint256","name":"amount_xusdc","type":"uint256"}],"name":"open_long","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"},{"internalType":"uint256","name":"amount_xusdc","type":"uint256"}],"name":"open_short","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"oracle_price","outputs":[{"internalType":"int256","name":"","type":"int256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"lev","type":"uint256"}],"name":"set_leverage","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"user_base","outputs":[{"internalType":"int256","name":"","type":"int256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"user_collateral","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"user_quote","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount_usdc","type":"uint256"}],"name":"withdraw_collateral","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},645:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')},963:function(e,t){},965:function(e,t){},967:function(e,t){},971:function(e,t){},972:function(e,t){},997:function(e,t){},999:function(e,t){}},[[1472,1,2]]]);
//# sourceMappingURL=main.21287d88.chunk.js.map